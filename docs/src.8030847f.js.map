{"version":3,"sources":["src/canvas.ts","src/etc/keysPressed.ts","src/states/BaseState.ts","src/lib/Paddle.ts","src/states/PlayState.ts","src/states/StartState.ts","src/states/StateMachine.ts","src/index.ts"],"names":[],"mappings":"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","file":"src.8030847f.js","sourceRoot":"..","sourcesContent":["const getCanvasById = (id: string = \"canvas\"): HTMLCanvasElement => {\n  const canvas = document.getElementById(id);\n  if (!(canvas instanceof HTMLCanvasElement)) {\n    throw new Error();\n  }\n  return canvas;\n};\n\nconst canvas = getCanvasById();\ncanvas.width = 800;\ncanvas.height = 400;\n\nconst ctx = canvas.getContext(\"2d\");\n\nexport { canvas, ctx };\n","export const keysPressed = {};\n\nexport const initKeyListener = () => {\n  window.addEventListener(\"keydown\", ({ key }) => {\n    keysPressed[key] = true;\n  });\n\n  window.addEventListener(\"keyup\", ({ key }) => {\n    delete keysPressed[key];\n  });\n};\n","export class BaseState {\n  constructor() {}\n\n  start() {}\n  change(): string {\n    return null;\n  }\n  update(dt: number) {}\n  render() {}\n  end() {}\n}\n","export class Paddle {\n  constructor() {}\n}\n","import { BaseState } from \"./BaseState\";\nimport { Paddle } from \"../lib/Paddle\";\nexport class PlayState extends BaseState {\n  constructor(private paddle: Paddle = new Paddle()) {\n    super();\n  }\n  start() {\n    console.log(\"play state started\");\n  }\n  update() {}\n\n  end() {\n    console.log(\"play state ended\");\n  }\n\n  render() {}\n}\n","import { BaseState } from \"./BaseState\";\n\nexport class StartState extends BaseState {\n  constructor() {\n    super();\n  }\n  start() {\n    console.log(\"start state started\");\n  }\n  update(dt: number) {}\n  end() {\n    console.log(\"start state ended\");\n  }\n}\n","import { PlayState } from \"./PlayState\";\nimport { StartState } from \"./StartState\";\nimport { BaseState } from \"./BaseState\";\n\nconst states = [\"playState\", \"startState\"];\n\nexport class StateMachine {\n  constructor(\n    private playState = new PlayState(),\n    private startState = new StartState(),\n    private currentState: BaseState = startState\n  ) {\n    this.startState.start();\n  }\n\n  run(dt: number): void {\n    this.currentState.update(dt);\n    this.currentState.render();\n    const newState = this.currentState.change();\n    if (newState) this.changeTo(newState);\n  }\n\n  changeTo(newState: string): void {\n    if (states.indexOf(newState) < 0) throw new Error(\"Not a valid State\");\n\n    this.currentState.end();\n    this.currentState = this[newState];\n    this.currentState.start();\n  }\n}\n","import { ctx, canvas } from \"./canvas\";\nimport { initKeyListener } from \"./etc/keysPressed\";\nimport { StateMachine } from \"./states/StateMachine\";\n\ninitKeyListener();\n\nconst stateMachine = new StateMachine();\n\nlet ticks = 0;\nctx.fillStyle = \"coral\";\nconst tick = (timestamp: number) => {\n  stateMachine.run(ticks++);\n  window.requestAnimationFrame(tick);\n};\n\nwindow.requestAnimationFrame(tick);\n"]}